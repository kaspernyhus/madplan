{% extends 'base.html' %}

{% load static %}

{% block content %}


<h1 class="header">{{recipe.name}}</h1>
<h6 class="header">Ændret {{recipe.date|date:'d/m/Y'}}</h6>
<br>


<table class="center">
  <!-- <colgroup>
      <col style="width: 50%;">
      <col style="width: 20%;">
      <col style="width: 15%;">
      <col style="width: 15%;">
  </colgroup> -->
  <tbody>

  <form method="POST">
    {% csrf_token %}
    {% for recipe_ingredient in recipe_ingredients %}
    <tr>
      <td>
        <span>{{recipe_ingredient.name}}</span>
      </td>
      <td>
        <span>{{recipe_ingredient.description}}</span>
      </td>
      <td>
        <input type="number" id="qty" value="{{recipe_ingredient.amount}}" name="qty" min="0" max="1000" step="0.1"> {{recipe_ingredient.unit}}
        <input type="hidden" id="ingredient_id" name="ingredient_id" value="{{recipe_ingredient.id}}">
      </td>
      <td>
        <button type="submit" class="delete_cross" id="delete_ingredient" name="delete_ingredient" value="{{recipe_ingredient.id}}">x</button>
      </td>
    </tr>
    {% endfor %}
  </tbody>
</table>
<div class="center">
<button type="submit" name="edit_quantities" value="">Gem</button>
</div>
</form>


<div class="center">
<h6>Tilføj en ingrediens</h6>
<form method="POST">
  {% csrf_token %}
  <input type="text" list="ingredient_list" name="ingredient" placeholder="Vælg ingrediens..">
  <datalist id="ingredient_list">
    {% for ingredient in all_ingredients %}
      <option value="{{ ingredient.name }}{% if ingredient.description %}, {{ingredient.description}} {% endif %}">
    {% endfor  %}
  </datalist>
  
  <input type="number" name="qty" value="" placeholder="hvor meget.." required>
  
  <select list="qty_units" name="qty_unit" value="" placeholder="enhed.." required>
    {% for unit in units %}
      <option value="{{ unit.unit_name }}">{{ unit.unit_name }}</option>
    {% endfor %}
  </select>

  <button type="submit" name="add_ingredient">tilføj</button>
</form>
</div>

<a href="{% url 'new_ingredient' %}" class="center">Opret ny ingrediens</a>


  
{% endblock %}